from django.urls import path, re_path
from django.conf import settings
from django.conf.urls.static import static
from django.contrib.auth import views as auth_views
from . import views
from .admin import custom_admin_site
from django.urls import include

urlpatterns = [
    path('custom_admin/', custom_admin_site.urls),
    path('', views.home_view, name='home'), 
    path('custom_login/', views.custom_login, name='custom_login'),   
    path('custom_logout/', views.custom_logout, name='custom_logout'),
    path('add/', views.add_exploit_view, name='add_exploit'),  
    path('exploit/<str:exploit_identifier>/', views.exploit_detail_view, name='exploit_detail'), 
    path('search/', views.search_exploit, name='search_exploit'),
    path('delete/confirm/<str:exploit_identifier>/', views.confirm_delete_exploit, name='confirm_delete_exploit'),
    path('delete/<str:exploit_identifier>/', views.delete_exploit, name='delete_exploit'),
    path('exploit/update/<str:exploit_identifier>/', views.update_exploit, name='update_exploit'),
    path("session_expired/", views.session_expired, name="session_expired"),
    path("check_session/", views.check_session, name="check_session"),
    path('view-file/<path:file_path>/', views.view_file, name='view_file'), 
    path('exploit/delete_file/<str:file_id>/', views.delete_file, name='delete_file'),
    path('exploit/delete_folder/<str:folder_id>/', views.delete_directory_file, name='delete_folder'),
    path('delete-multiple-exploits/', views.delete_multiple_exploits, name='delete_multiple_exploits'),
    path('upload_media/', views.upload_media, name='upload_media'),
]

if settings.DEBUG:
    urlpatterns += static(settings.MEDIA_URL, document_root=settings.MEDIA_ROOT)